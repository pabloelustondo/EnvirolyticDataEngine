@using Microsoft.WindowsAzure.Storage.Blob;
@model List<CloudBlockBlob>

@{
    ViewBag.Title = "Index";
}

<h2>Blobs in Azure Storage </h2>

<table>
    <tr>
        <th>
            Name
        </th>
        <th>
            Length (MB)
        </th>
        <th>
            Last Updated (UTC)
        </th>

    </tr>

@foreach (var item in Model) {
    <tr>
         <td>
            @item.Name
        </td>
        <td>
            @(item.Properties.Length / 1000000)
        </td>
         <td>
            @item.Properties.LastModified
        </td>
        @if(User.IsInRole("Admin")){
        <td>
            @Html.ActionLink("Del", "DeleteBlob", new { name=item.Name, containerName=ViewBag.containerName })
        </td>}
         <td>
            @Html.ActionLink("Inspect", "SampleNetCDF", new { fileName=item.Name })
        </td>
    </tr>
}

</table>

